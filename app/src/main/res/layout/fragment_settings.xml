<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:tools="http://schemas.android.com/tools"
    xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto" >

    <data>
        <import type="android.view.View" />
        <variable
            name="settingsViewModel"
            type="com.websarva.wings.android.zuboradiary.ui.viewmodel.SettingsViewModel" />
    </data>

    <FrameLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent">

        <View
            style="@style/AppFragmentBackgroundViewStyle"
            android:id="@+id/view_full_screen_background"
            android:layout_width="match_parent"
            android:layout_height="match_parent" />

        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            android:orientation="vertical">

            <com.google.android.material.appbar.MaterialToolbar
                style="@style/AppToolbarStyle"
                android:id="@+id/material_toolbar_top_app_bar"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                app:title="設定" />

            <com.google.android.material.divider.MaterialDivider
                android:id="@+id/material_divider_toolbar"
                android:layout_width="match_parent"
                android:layout_height="wrap_content" />

            <ScrollView
                android:id="@+id/scroll_view_settings"
                android:layout_width="match_parent"
                android:layout_height="match_parent">

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="vertical">

                    <LinearLayout
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:orientation="vertical">

                        <TextView
                            style="@style/SettingsSectionTextViewStyle"
                            android:id="@+id/text_settings_section_design"
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:minHeight="@dimen/fragment_settings_section_layout_min_height"
                            android:textAppearance="@style/SettingsSectionTextViewTextAppearance"
                            android:text="@string/fragment_settings_section_title_design"/>

                        <com.google.android.material.divider.MaterialDivider
                            android:id="@+id/material_divider_theme_color_setting"
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content" />

                        <include
                            layout="@layout/layout_settings_item"
                            android:id="@+id/include_theme_color_setting"
                            app:settingIcon="@{@drawable/ic_palette_24px}"
                            app:settingTitle="@{@string/fragment_settings_item_title_theme_color}"
                            app:onClickListener="@{() -> settingsViewModel.onThemeColorSettingButtonClicked()}" />

                    </LinearLayout>

                    <LinearLayout
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:orientation="vertical">

                        <com.google.android.material.divider.MaterialDivider
                            android:id="@+id/material_divider_section_setting"
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content" />

                        <TextView
                            style="@style/SettingsSectionTextViewStyle"
                            android:id="@+id/text_settings_section_setting"
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:minHeight="@dimen/fragment_settings_section_layout_min_height"
                            android:textAppearance="@style/SettingsSectionTextViewTextAppearance"
                            android:text="@string/fragment_settings_section_title_setting" />

                        <com.google.android.material.divider.MaterialDivider
                            android:id="@+id/material_divider_calendar_start_day_setting"
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content" />

                        <include
                            layout="@layout/layout_settings_item"
                            android:id="@+id/include_calendar_start_day_setting"
                            app:settingIcon="@{@drawable/ic_calendar_month_24px}"
                            app:settingTitle="@{@string/fragment_settings_item_title_calendar_start_day}"
                            app:onClickListener="@{() -> settingsViewModel.onCalendarStartDayOfWeekSettingButtonClicked()}" />

                        <com.google.android.material.divider.MaterialDivider
                            android:id="@+id/material_divider_reminder_notification_setting"
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content" />

                        <!-- HACK:指定layoutファイル内で"tools:ignore="DuplicateIncludedIds""と記述して対応しているのにもかかわらず、
                                  警告"DuplicateIncludedIds"が表示される為、"tools:ignore="DuplicateIncludedIds""記述。
                                  (指定layoutファイル内で警告対象となっているID名を使用している別ファイル(layout_settings_item.xml)を
                                  layoutとして指定しているincludeタグは警告が表示されていない。) -->
                        <include
                            layout="@layout/layout_settings_item_switch"
                            android:id="@+id/include_reminder_notification_setting"
                            app:settingIcon="@{@drawable/ic_notifications_24px}"
                            app:settingTitle="@{@string/fragment_settings_item_title_reminder_notification}"
                            app:settingValueVisibility="@{settingsViewModel.isCheckedReminderNotification() ? View.VISIBLE : View.GONE}"
                            app:settingValueSwitch="@{settingsViewModel.isCheckedReminderNotification}"
                            app:onCheckedChangeListener="@{(_, isChecked) -> settingsViewModel.onReminderNotificationSettingCheckedChanged(isChecked)}"
                            tools:ignore="DuplicateIncludedIds" />

                        <com.google.android.material.divider.MaterialDivider
                            android:id="@+id/material_divider_passcode_lock_setting"
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content" />

                        <!-- HACK:指定layoutファイル内で"tools:ignore="DuplicateIncludedIds""と記述して対応しているのにもかかわらず、
                                  警告"DuplicateIncludedIds"が表示される為、"tools:ignore="DuplicateIncludedIds""記述。
                                  (指定layoutファイル内で警告対象となっているID名を使用している別ファイル(layout_settings_item.xml)を
                                  layoutとして指定しているincludeタグは警告が表示されていない。) -->
                        <include
                            layout="@layout/layout_settings_item_switch"
                            android:id="@+id/include_passcode_lock_setting"
                            app:settingIcon="@{@drawable/ic_lock_24px}"
                            app:settingTitle="@{@string/fragment_settings_item_title_passcode_lock}"
                            app:settingValueVisibility="@{View.GONE}"
                            app:settingValueSwitch="@{settingsViewModel.isCheckedPasscodeLock}"
                            app:onCheckedChangeListener="@{(_, isChecked) -> settingsViewModel.onPasscodeLockSettingCheckedChanged(isChecked)}"
                            tools:ignore="DuplicateIncludedIds" />

                        <com.google.android.material.divider.MaterialDivider
                            android:id="@+id/material_divider_weather_info_acquisition_setting"
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content" />

                        <!-- HACK:指定layoutファイル内で"tools:ignore="DuplicateIncludedIds""と記述して対応しているのにもかかわらず、
                                  警告"DuplicateIncludedIds"が表示される為、"tools:ignore="DuplicateIncludedIds""記述。
                                  (指定layoutファイル内で警告対象となっているID名を使用している別ファイル(layout_settings_item.xml)を
                                  layoutとして指定しているincludeタグは警告が表示されていない。) -->
                        <include
                            layout="@layout/layout_settings_item_switch"
                            android:id="@+id/include_weather_info_acquisition_setting"
                            app:settingIcon="@{@drawable/ic_sunny_24px}"
                            app:settingTitle="@{@string/fragment_settings_item_title_weather_info_acquisition}"
                            app:settingValueSwitch="@{settingsViewModel.isCheckedWeatherInfoAcquisition}"
                            app:settingValueVisibility="@{View.GONE}"
                            app:onCheckedChangeListener="@{(_, isChecked) -> settingsViewModel.onWeatherInfoAcquisitionSettingCheckedChanged(isChecked)}"
                            tools:ignore="DuplicateIncludedIds" />

                        <!-- HACK:MaterialSwitchを配置したLayoutをincludeタグで複数配置すると、
                                  MaterialSwitchの初期状態が前回表示した本Fragment内のMaterialSwitchの状態に依存する不具合が発生。
                                  前回表示したMaterialSwitchとは本FragmentLayoutの最後に配置したincludeタグ内のMaterialSwitchである。
                                  この状態だとCompoundButton.OnCheckedChangeListenerがチェック状態で誤作動する。
                                  includeタグを使用しなければこの不具合は発生しないが、Layoutの再利用性を考慮してincludeタグを使用する。
                                  この不具合を解決する為に、MaterialSwitchが常時false状態となる下記Layoutを追加する。-->
                        <!-- HACK:指定layoutファイル内で"tools:ignore="DuplicateIncludedIds""と記述して対応しているのにもかかわらず、
                                  警告"DuplicateIncludedIds"が表示される為、"tools:ignore="DuplicateIncludedIds""記述。
                                  (指定layoutファイル内で警告対象となっているID名を使用している別ファイル(layout_settings_item.xml)を
                                  layoutとして指定しているincludeタグは警告が表示されていない。) -->
                        <include
                            layout="@layout/layout_settings_item_switch"
                            android:visibility="gone"
                            tools:ignore="DuplicateIncludedIds" />

                    </LinearLayout>

                    <LinearLayout
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:orientation="vertical">

                        <com.google.android.material.divider.MaterialDivider
                            android:id="@+id/material_divider_section_data"
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content" />

                        <TextView
                            style="@style/SettingsSectionTextViewStyle"
                            android:id="@+id/text_settings_section_data"
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:minHeight="@dimen/fragment_settings_section_layout_min_height"
                            android:textAppearance="@style/SettingsSectionTextViewTextAppearance"
                            android:text="@string/fragment_settings_section_title_data"/>

                        <com.google.android.material.divider.MaterialDivider
                            android:id="@+id/material_divider_all_diaries_delete_setting"
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content" />

                        <include
                            layout="@layout/layout_settings_item"
                            android:id="@+id/include_all_diaries_delete_setting"
                            app:settingIcon="@{@drawable/ic_delete_forever_24px}"
                            app:settingTitle="@{@string/fragment_settings_item_title_all_diaries_delete}"
                            app:settingValueVisibility="@{View.GONE}"
                            app:onClickListener="@{() -> settingsViewModel.onAllDiariesDeleteButtonClicked()}" />

                        <com.google.android.material.divider.MaterialDivider
                            android:id="@+id/material_divider_all_settings_initialization_setting"
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content" />

                        <include
                            layout="@layout/layout_settings_item"
                            android:id="@+id/include_all_settings_initialization_setting"
                            app:settingIcon="@{@drawable/ic_reset_settings_24px}"
                            app:settingTitle="@{@string/fragment_settings_item_title_all_settings_initialization}"
                            app:settingValueVisibility="@{View.GONE}"
                            app:onClickListener="@{() -> settingsViewModel.onAllSettingsInitializationButtonClicked()}" />

                        <com.google.android.material.divider.MaterialDivider
                            android:id="@+id/material_divider_all_data_delete_setting"
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content" />

                        <include
                            layout="@layout/layout_settings_item"
                            android:id="@+id/include_all_data_delete_setting"
                            app:settingIcon="@{@drawable/ic_delete_forever_24px}"
                            app:settingTitle="@{@string/fragment_settings_item_title_all_data_delete}"
                            app:settingValueVisibility="@{View.GONE}"
                            app:onClickListener="@{() -> settingsViewModel.onAllDataDeleteButtonClicked()}" />

                    </LinearLayout>

                    <LinearLayout
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:orientation="vertical">

                        <com.google.android.material.divider.MaterialDivider
                            android:id="@+id/material_divider_section_other"
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content" />

                        <TextView
                            style="@style/SettingsSectionTextViewStyle"
                            android:id="@+id/text_settings_section_other"
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:minHeight="@dimen/fragment_settings_section_layout_min_height"
                            android:textAppearance="@style/SettingsSectionTextViewTextAppearance"
                            android:text="@string/fragment_settings_section_title_other"/>

                        <com.google.android.material.divider.MaterialDivider
                            android:id="@+id/material_divider_open_source_licenses_setting"
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content" />

                        <include
                            layout="@layout/layout_settings_item"
                            android:id="@+id/include_open_source_licenses_setting"
                            app:settingIcon="@{@drawable/ic_copyright_24dp}"
                            app:settingTitle="@{@string/fragment_settings_item_title_open_source_licenses}"
                            app:settingValueVisibility="@{View.GONE}"
                            app:onClickListener="@{() -> settingsViewModel.onOpenSourceLicenseButtonClicked()}" />

                    </LinearLayout>

                    <LinearLayout
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:orientation="vertical">

                        <com.google.android.material.divider.MaterialDivider
                            android:id="@+id/material_divider_section_end"
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content" />

                        <TextView
                            style="@style/SettingsSectionTextViewStyle"
                            android:id="@+id/text_settings_section_end"
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:minHeight="@dimen/fragment_settings_section_layout_min_height"
                            android:textAppearance="@style/SettingsSectionTextViewTextAppearance" />

                    </LinearLayout>

                </LinearLayout>

            </ScrollView>

        </LinearLayout>

    </FrameLayout>

</layout>
